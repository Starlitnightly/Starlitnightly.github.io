\hypertarget{mainwindow_8cpp}{}\doxysection{mainwindow.\+cpp 文件参考}
\label{mainwindow_8cpp}\index{mainwindow.cpp@{mainwindow.cpp}}


游戏主窗口及其相关  


{\ttfamily \#include \char`\"{}mainwindow.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ui\+\_\+mainwindow.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mediamute.\+h\char`\"{}}\newline
{\ttfamily \#include $<$Q\+Library$>$}\newline
{\ttfamily \#include $<$qprocess.\+h$>$}\newline
{\ttfamily \#include $<$Windows.\+h$>$}\newline
{\ttfamily \#include $<$Q\+Key\+Event$>$}\newline
{\ttfamily \#include $<$qcoreapplication.\+h$>$}\newline
{\ttfamily \#include $<$qevent.\+h$>$}\newline
{\ttfamily \#include $<$Q\+Key\+Event\+Transition$>$}\newline
{\ttfamily \#include $<$Qt$>$}\newline
{\ttfamily \#include $<$Qt\+Gui/\+Q\+Mouse\+Event$>$}\newline
{\ttfamily \#include $<$Q\+Process$>$}\newline
{\ttfamily \#include $<$Qdir$>$}\newline
{\ttfamily \#include $<$Q\+Application$>$}\newline
{\ttfamily \#include $<$Q\+Debug$>$}\newline
{\ttfamily \#include $<$Q\+List$>$}\newline
{\ttfamily \#include $<$Q\+Variant\+List$>$}\newline
{\ttfamily \#include $<$Q\+Desktop\+Services$>$}\newline
{\ttfamily \#include $<$Q\+Message\+Box$>$}\newline
mainwindow.\+cpp 的引用(Include)关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mainwindow_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{函数}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{mainwindow_8cpp_aba7796214ee355db55422f9e96b04c4b}{Auto\+Reg\+Dm}} ()
\begin{DoxyCompactList}\small\item\em 自动注册大漠插件函数 \end{DoxyCompactList}\item 
H\+W\+ND \mbox{\hyperlink{mainwindow_8cpp_ae9070fefca57e4dd09a5db6537f7c77c}{Getpid}} ()
\begin{DoxyCompactList}\small\item\em 获取程序pid \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mainwindow_8cpp_a2ef2be9078be3fbf8434cc61495d24bd}{Openbag}} ()
\begin{DoxyCompactList}\small\item\em 一键换装备-\/打开装备背包 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mainwindow_8cpp_aba1d780cdbc29d99be3cc3fde400d02d}{Searchbag}} (H\+W\+ND pid, Q\+String name)
\begin{DoxyCompactList}\small\item\em 一键换装备-\/搜索装备 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mainwindow_8cpp_abb6ab68f7f5c4af65390e0966c12cb9e}{Wearbag}} ()
\begin{DoxyCompactList}\small\item\em 一键换装备-\/穿上装备 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
游戏主窗口及其相关 

\begin{DoxyAuthor}{作者}
starlitnightly @email \href{mailto:Starlitnightly@163.com}{\texttt{ Starlitnightly@163.\+com}} 
\end{DoxyAuthor}
\begin{DoxyVersion}{版本}
1.\+0.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{日期}
2020-\/07-\/09 @license G\+PL 
\end{DoxyDate}


\doxysubsection{函数说明}
\mbox{\Hypertarget{mainwindow_8cpp_aba7796214ee355db55422f9e96b04c4b}\label{mainwindow_8cpp_aba7796214ee355db55422f9e96b04c4b}} 
\index{mainwindow.cpp@{mainwindow.cpp}!AutoRegDm@{AutoRegDm}}
\index{AutoRegDm@{AutoRegDm}!mainwindow.cpp@{mainwindow.cpp}}
\doxysubsubsection{\texorpdfstring{AutoRegDm()}{AutoRegDm()}}
{\footnotesize\ttfamily void Auto\+Reg\+Dm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



自动注册大漠插件函数 

\begin{DoxyReturn}{返回}
无 
\end{DoxyReturn}


在文件 mainwindow.\+cpp 第 38 行定义.


\begin{DoxyCode}{0}
\DoxyCodeLine{39 \{}
\DoxyCodeLine{40     QString path;}
\DoxyCodeLine{41     path=QCoreApplication::applicationDirPath();\textcolor{comment}{//获取程序运行路径}}
\DoxyCodeLine{42     QString cmdStr=\textcolor{stringliteral}{"Regsvr32"}+path+\textcolor{stringliteral}{"/dm.dll /s"};}
\DoxyCodeLine{43     QProcess process(0);}
\DoxyCodeLine{44     process.start(\textcolor{stringliteral}{"cmd"},QStringList()<<\textcolor{stringliteral}{"/c"}<<cmdStr);}
\DoxyCodeLine{45     process.waitForStarted();}
\DoxyCodeLine{46     process.waitForFinished();}
\DoxyCodeLine{47 \}}

\end{DoxyCode}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mainwindow_8cpp_aba7796214ee355db55422f9e96b04c4b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{mainwindow_8cpp_ae9070fefca57e4dd09a5db6537f7c77c}\label{mainwindow_8cpp_ae9070fefca57e4dd09a5db6537f7c77c}} 
\index{mainwindow.cpp@{mainwindow.cpp}!Getpid@{Getpid}}
\index{Getpid@{Getpid}!mainwindow.cpp@{mainwindow.cpp}}
\doxysubsubsection{\texorpdfstring{Getpid()}{Getpid()}}
{\footnotesize\ttfamily H\+W\+ND Getpid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



获取程序pid 

\begin{DoxyReturn}{返回}
返回程序pid（由于窗口名可变所以此函数作废） 
\end{DoxyReturn}


在文件 mainwindow.\+cpp 第 53 行定义.


\begin{DoxyCode}{0}
\DoxyCodeLine{53              \{}
\DoxyCodeLine{54     HWND test;}
\DoxyCodeLine{55     HWND hq=FindWindow(L\textcolor{stringliteral}{"Qt5QWindowIcon"},L\textcolor{stringliteral}{"seer"});}
\DoxyCodeLine{56     qDebug()<<\textcolor{stringliteral}{"hq"}<<(int)hq;}
\DoxyCodeLine{57     test=GetWindow(hq,5);}
\DoxyCodeLine{58     test=GetWindow(test,2);}
\DoxyCodeLine{59     test=GetWindow(test,5);}
\DoxyCodeLine{60     test=GetWindow(test,5);}
\DoxyCodeLine{61     test=GetWindow(test,5);}
\DoxyCodeLine{62     test=GetWindow(test,5);}
\DoxyCodeLine{63     test=GetWindow(test,5);}
\DoxyCodeLine{64     test=GetWindow(test,5);}
\DoxyCodeLine{65     \textcolor{keywordflow}{return} test;}
\DoxyCodeLine{66 \}}

\end{DoxyCode}
\mbox{\Hypertarget{mainwindow_8cpp_a2ef2be9078be3fbf8434cc61495d24bd}\label{mainwindow_8cpp_a2ef2be9078be3fbf8434cc61495d24bd}} 
\index{mainwindow.cpp@{mainwindow.cpp}!Openbag@{Openbag}}
\index{Openbag@{Openbag}!mainwindow.cpp@{mainwindow.cpp}}
\doxysubsubsection{\texorpdfstring{Openbag()}{Openbag()}}
{\footnotesize\ttfamily void Openbag (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



一键换装备-\/打开装备背包 

\begin{DoxyReturn}{返回}
无 
\end{DoxyReturn}


在文件 mainwindow.\+cpp 第 638 行定义.


\begin{DoxyCode}{0}
\DoxyCodeLine{638               \{}
\DoxyCodeLine{639     QVariant x,y;}
\DoxyCodeLine{640     \textcolor{keywordflow}{while}(\mbox{\hyperlink{ext_8cpp_a02a7230d0f93f7aa4a80065a9e032ae1}{dm}}.\mbox{\hyperlink{class_dm_1_1_idmsoft_a1fde0da7b0ec5c141bdb8b38bc809ea0}{FindPic}}(18,11,526,316,\textcolor{stringliteral}{"查看个人信息.bmp"},\textcolor{stringliteral}{"000000"},0.8,0,x,y)==-\/1)\{}
\DoxyCodeLine{641         \mbox{\hyperlink{ext_8cpp_a02a7230d0f93f7aa4a80065a9e032ae1}{dm}}.\mbox{\hyperlink{class_dm_1_1_idmsoft_a49c9f38bed76689957f7218c265b7c49}{MoveTo}}(670,293);}
\DoxyCodeLine{642         \mbox{\hyperlink{ext_8cpp_a02a7230d0f93f7aa4a80065a9e032ae1}{dm}}.\mbox{\hyperlink{class_dm_1_1_idmsoft_ad28afe0a9d51358420621d7db04fce5a}{LeftClick}}();}
\DoxyCodeLine{643         \mbox{\hyperlink{xy_8cpp_a925196a6417535216cfd7ea936e4ca50}{Delay}}(500);}
\DoxyCodeLine{644     \}}
\DoxyCodeLine{645 \}}

\end{DoxyCode}
函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{mainwindow_8cpp_a2ef2be9078be3fbf8434cc61495d24bd_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mainwindow_8cpp_a2ef2be9078be3fbf8434cc61495d24bd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{mainwindow_8cpp_aba1d780cdbc29d99be3cc3fde400d02d}\label{mainwindow_8cpp_aba1d780cdbc29d99be3cc3fde400d02d}} 
\index{mainwindow.cpp@{mainwindow.cpp}!Searchbag@{Searchbag}}
\index{Searchbag@{Searchbag}!mainwindow.cpp@{mainwindow.cpp}}
\doxysubsubsection{\texorpdfstring{Searchbag()}{Searchbag()}}
{\footnotesize\ttfamily void Searchbag (\begin{DoxyParamCaption}\item[{H\+W\+ND}]{pid,  }\item[{Q\+String}]{name }\end{DoxyParamCaption})}



一键换装备-\/搜索装备 


\begin{DoxyParams}{参数}
{\em pid} & 窗口id \\
\hline
{\em name} & 要换的装备名 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
无 
\end{DoxyReturn}


在文件 mainwindow.\+cpp 第 652 行定义.


\begin{DoxyCode}{0}
\DoxyCodeLine{652                                      \{}
\DoxyCodeLine{653     \mbox{\hyperlink{ext_8cpp_a02a7230d0f93f7aa4a80065a9e032ae1}{dm}}.\mbox{\hyperlink{class_dm_1_1_idmsoft_a49c9f38bed76689957f7218c265b7c49}{MoveTo}}(736,382);}
\DoxyCodeLine{654     \mbox{\hyperlink{ext_8cpp_a02a7230d0f93f7aa4a80065a9e032ae1}{dm}}.\mbox{\hyperlink{class_dm_1_1_idmsoft_ad28afe0a9d51358420621d7db04fce5a}{LeftClick}}();}
\DoxyCodeLine{655     QString s=name;}
\DoxyCodeLine{656     \textcolor{keywordflow}{foreach}(QChar c, s)}
\DoxyCodeLine{657         PostMessage(pid, WM\_CHAR, c.unicode(), 0);}
\DoxyCodeLine{658     \mbox{\hyperlink{xy_8cpp_a925196a6417535216cfd7ea936e4ca50}{Delay}}(500);}
\DoxyCodeLine{659     \mbox{\hyperlink{ext_8cpp_a02a7230d0f93f7aa4a80065a9e032ae1}{dm}}.\mbox{\hyperlink{class_dm_1_1_idmsoft_a49c9f38bed76689957f7218c265b7c49}{MoveTo}}(797,380);}
\DoxyCodeLine{660     \mbox{\hyperlink{ext_8cpp_a02a7230d0f93f7aa4a80065a9e032ae1}{dm}}.\mbox{\hyperlink{class_dm_1_1_idmsoft_ad28afe0a9d51358420621d7db04fce5a}{LeftClick}}();}
\DoxyCodeLine{661 \}}

\end{DoxyCode}
函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=294pt]{mainwindow_8cpp_aba1d780cdbc29d99be3cc3fde400d02d_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mainwindow_8cpp_aba1d780cdbc29d99be3cc3fde400d02d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{mainwindow_8cpp_abb6ab68f7f5c4af65390e0966c12cb9e}\label{mainwindow_8cpp_abb6ab68f7f5c4af65390e0966c12cb9e}} 
\index{mainwindow.cpp@{mainwindow.cpp}!Wearbag@{Wearbag}}
\index{Wearbag@{Wearbag}!mainwindow.cpp@{mainwindow.cpp}}
\doxysubsubsection{\texorpdfstring{Wearbag()}{Wearbag()}}
{\footnotesize\ttfamily void Wearbag (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



一键换装备-\/穿上装备 

\begin{DoxyReturn}{返回}
无 
\end{DoxyReturn}


在文件 mainwindow.\+cpp 第 666 行定义.


\begin{DoxyCode}{0}
\DoxyCodeLine{666               \{}
\DoxyCodeLine{667     QVariant x,y;}
\DoxyCodeLine{668     \textcolor{keywordflow}{while}(\mbox{\hyperlink{ext_8cpp_a02a7230d0f93f7aa4a80065a9e032ae1}{dm}}.\mbox{\hyperlink{class_dm_1_1_idmsoft_a1fde0da7b0ec5c141bdb8b38bc809ea0}{FindPic}}(0,0,1000,600,\textcolor{stringliteral}{"装备选完.bmp"},\textcolor{stringliteral}{"000000"},0.8,0,x,y)==-\/1)\{}
\DoxyCodeLine{669         \mbox{\hyperlink{ext_8cpp_a02a7230d0f93f7aa4a80065a9e032ae1}{dm}}.\mbox{\hyperlink{class_dm_1_1_idmsoft_a49c9f38bed76689957f7218c265b7c49}{MoveTo}}(202,445);}
\DoxyCodeLine{670         \mbox{\hyperlink{ext_8cpp_a02a7230d0f93f7aa4a80065a9e032ae1}{dm}}.\mbox{\hyperlink{class_dm_1_1_idmsoft_ad28afe0a9d51358420621d7db04fce5a}{LeftClick}}();}
\DoxyCodeLine{671         \mbox{\hyperlink{xy_8cpp_a925196a6417535216cfd7ea936e4ca50}{Delay}}(100);}
\DoxyCodeLine{672         qDebug()<<\textcolor{stringliteral}{"装备选完中"};}
\DoxyCodeLine{673     \}}
\DoxyCodeLine{674     qDebug()<<\textcolor{stringliteral}{"装备选完"};}
\DoxyCodeLine{675     \mbox{\hyperlink{ext_8cpp_a02a7230d0f93f7aa4a80065a9e032ae1}{dm}}.\mbox{\hyperlink{class_dm_1_1_idmsoft_a49c9f38bed76689957f7218c265b7c49}{MoveTo}}(357,314);}
\DoxyCodeLine{676     \mbox{\hyperlink{ext_8cpp_a02a7230d0f93f7aa4a80065a9e032ae1}{dm}}.\mbox{\hyperlink{class_dm_1_1_idmsoft_ad28afe0a9d51358420621d7db04fce5a}{LeftClick}}();}
\DoxyCodeLine{677     \mbox{\hyperlink{xy_8cpp_a925196a6417535216cfd7ea936e4ca50}{Delay}}(100);}
\DoxyCodeLine{678 \}}

\end{DoxyCode}
函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{mainwindow_8cpp_abb6ab68f7f5c4af65390e0966c12cb9e_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mainwindow_8cpp_abb6ab68f7f5c4af65390e0966c12cb9e_icgraph}
\end{center}
\end{figure}
